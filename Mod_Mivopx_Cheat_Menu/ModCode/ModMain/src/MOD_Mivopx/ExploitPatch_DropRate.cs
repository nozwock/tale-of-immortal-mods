using System;
using Il2CppSystem.Collections.Generic;
using TaleOfImmortalCheat;

namespace MOD_Mivopx;

internal class ExploitPatch_DropRate
{
	public static ConfGameDifficultyValue RoleDiff = Game.ConfMgr.gameDifficultyValue;

	private static bool _isThisActive;

	public static bool IsThisActive
	{
		get
		{
			return _isThisActive;
		}
		set
		{
			_isThisActive = value;
			if (!value)
			{
				return;
			}
			try
			{
				if (RoleDiff != null)
				{
					ModMain.Log("----- ----- ----- ----- -----");
					ModMain.Log("OtherPanel - RoleDiff - Called");
					ModMain.Log("----- ----- ----- ----- -----");
					List<ConfGameDifficultyValueItem>.Enumerator enumerator = RoleDiff._allConfList.GetEnumerator();
					while (enumerator.MoveNext())
					{
						enumerator.Current.dropRate = 10000;
					}
				}
			}
			catch (Exception ex)
			{
				ModMain.LogWarning("An error occurred while setting DropRate: " + ex.Message + ":" + ex.StackTrace);
			}
		}
	}
}
