using HarmonyLib;

namespace MOD_Mivopx;

[HarmonyPatch(typeof(UIBase), "Init")]
internal class ExploitPatch_UIBase
{
	public static UIBase _instance;

	private static bool _isThisActive;

	public static bool IsThisActive
	{
		get
		{
			return _isThisActive;
		}
		set
		{
			_isThisActive = value;
		}
	}

	private static void Postfix(UIBase __instance)
	{
		_instance = __instance;
		if (_instance != null && IsThisActive)
		{
			ModMain.Log("----- ----- ----- ----- -----");
			ModMain.Log("- UIBase - Postfix - Called -");
			ModMain.Log("----- -- UIBase Info -- -----");
			ModMain.Log("Instance Name: " + _instance.name);
			ModMain.Log("GetScriptClassName: " + _instance.GetScriptClassName());
			ModMain.Log("uiType: " + _instance.uiType);
			ModMain.Log("uiType.uiName: " + _instance.uiType?.uiName);
			ModMain.Log("uiType.uiLayer: " + _instance.uiType?.uiLayer.ToString());
			ModMain.Log("useGUILayout: " + _instance.useGUILayout);
			ModMain.Log("isActiveOperation: " + _instance.isActiveOperation);
			ModMain.Log("GetComponent: " + _instance.GetComponent(_instance.GetIl2CppType()));
			ModMain.Log("----- ----- ----- ----- -----");
		}
	}
}
