using HarmonyLib;

namespace MOD_Mivopx;

[HarmonyPatch(typeof(UIMartialLearnGame), "StartGame")]
internal class ExploitPatch_UIMartialLearnGame_StartGame
{
	public static UIMartialLearnGame _instance;

	private static bool _isThisActive;

	public static bool IsThisActive
	{
		get
		{
			return _isThisActive;
		}
		set
		{
			_isThisActive = value;
		}
	}

	private static void Postfix(UIMartialLearnGame __instance)
	{
		_instance = __instance;
		if (_instance != null && IsThisActive)
		{
			ModMain.Log("----- ----- ----- ----- -----");
			ModMain.Log("ExploitPanel - MartialLearnGame - StartGame - Called");
			ModMain.Log("----- ----- ----- ----- -----");
			ModMain.Log($"costMood {_instance.costMood}");
			_instance.costMood = 0;
			ModMain.Log($"Modified - costMood {_instance.costMood}");
			ModMain.Log($"upRate {_instance.upRate}");
			if (_instance.upRate <= 90f)
			{
				_instance.upRate = 100f;
			}
			ModMain.Log($"Modified - upRate {_instance.upRate}");
			ModMain.Log($"MoveS {_instance.MoveS}");
			_instance.MoveS = 6969f;
			ModMain.Log($"Modified - MoveS {_instance.MoveS}");
			ModMain.Log($"upCount {_instance.upCount}");
			if (_instance.upCount <= 10)
			{
				_instance.upCount = 696968;
				ModMain.Log($"Modified - upCount {_instance.upCount}");
			}
			ModMain.Log($"downCount {_instance.downCount}");
		}
	}
}
