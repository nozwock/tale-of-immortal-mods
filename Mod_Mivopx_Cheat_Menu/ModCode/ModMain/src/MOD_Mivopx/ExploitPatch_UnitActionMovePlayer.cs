using HarmonyLib;
using TaleOfImmortalCheat.UI;

namespace MOD_Mivopx;

[HarmonyPatch(typeof(UnitActionMovePlayer), "Init")]
internal class ExploitPatch_UnitActionMovePlayer
{
	public static UnitActionMovePlayer _instance;

	private static bool _isThisActive;

	public static bool IsThisActive
	{
		get
		{
			return _isThisActive;
		}
		set
		{
			_isThisActive = value;
		}
	}

	static ExploitPatch_UnitActionMovePlayer()
	{
		UIRefreshManager.OnLanguageChanged += UpdateUITexts;
	}

	private static void Postfix(UnitActionMovePlayer __instance)
	{
		_instance = __instance;
		if (IsThisActive && _instance != null)
		{
			ModMain.Log("costDay: " + _instance.costDay);
			_instance.costDay = 0f;
			ModMain.Log("Modified - costDay: " + _instance.costDay);
			ModMain.Log("day: " + _instance.day);
			_instance.day = 0;
			ModMain.Log("Modified - day: " + _instance.day);
		}
	}

	private static void UpdateUITexts()
	{
	}
}
