using HarmonyLib;

namespace MOD_Mivopx;

[HarmonyPatch(typeof(UnitActionSchoolTrainingHall), "Init")]
internal class ExploitPatch_UnitActionSchoolTrainingHall
{
	public static UnitActionSchoolTrainingHall _instance;

	private static bool _isThisActive;

	public static bool IsThisActive
	{
		get
		{
			return _isThisActive;
		}
		set
		{
			_isThisActive = value;
		}
	}

	private static void Postfix(UnitActionSchoolTrainingHall __instance)
	{
		_instance = __instance;
		if (_instance != null && IsThisActive)
		{
			ModMain.Log("----- ----- ----- ----- -----");
			ModMain.Log("ExploitPanel - Cultivate Sect Training Hall - Called");
			ModMain.Log("----- ----- ----- ----- -----");
			ModMain.Log($"Initial - Day: {_instance.day}");
			_instance.day = 0;
			ModMain.Log($"Updated - Day: {_instance.day}");
			ModMain.Log($"Initial - Money Cost: {_instance.costMoney}");
			_instance.costMoney = 0;
			ModMain.Log($"Updated - Money Cost: {_instance.costMoney}");
		}
	}
}
